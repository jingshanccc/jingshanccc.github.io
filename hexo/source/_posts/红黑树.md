---
title: çº¢é»‘æ ‘åŸºç¡€
categories:
  - æ•°æ®ç»“æ„
image: 'https://gitee.com/jingshanccc/image/raw/master/image/20200722003354.png'
abbrlink: 75890e6e
---

<P></p>

<!-- more -->

## ä»2-3æ ‘å¼€å§‹è¯´èµ·

### ğŸ‰ç®€ä»‹

æˆ‘ä»¬çŸ¥é“äºŒåˆ†æœç´¢æ ‘åœ¨æ’å…¥å…ƒç´ æœ¬èº«æ˜¯æœ‰åºçš„æƒ…å†µä¸‹ï¼Œå…¶å°†é€€åŒ–æˆä¸€ä¸ªé“¾è¡¨ï¼ŒæŸ¥è¯¢æ•ˆç‡ä¹Ÿç”±O(logN)é€€åŒ–åˆ°O(N)ï¼Œä¸ºäº†æå‡æ•ˆç‡ï¼Œå°†äºŒåˆ†æœç´¢æ ‘ä¼˜åŒ–ä¸ºå¹³è¡¡äºŒå‰æ ‘ï¼Œåœ¨æ’å…¥åˆ é™¤è¿‡ç¨‹ä¸­ä¿è¯å·¦å³å­æ ‘çš„é«˜åº¦å·®ä¸è¶…è¿‡1ï¼Œè®©æ ‘çš„é«˜åº¦æœ€å°ã€‚ä½†æ˜¯ç»´æŠ¤å¹³è¡¡ä¹Ÿéœ€è¦å¸¦æ¥æ›´å¤šæ›´å¤æ‚çš„æ“ä½œï¼Œå› æ­¤å¼•å…¥äº†2-3æ ‘ã€‚

2-3æ ‘æ˜¯ä¸€æ£µç»å¯¹å¹³è¡¡çš„æ ‘ï¼Œå®ƒçš„ç»“ç‚¹å¯ä»¥æœ‰2ä¸ªå­©å­æˆ–3ä¸ªå­©å­ï¼Œè¿™ä¹Ÿæ˜¯å…¶åå­—çš„ç”±æ¥ï¼Œå®ƒæ»¡è¶³äºŒåˆ†æœç´¢æ ‘çš„åŸºæœ¬æ€§è´¨ï¼Œå…¶å¤§å°å…³ç³»å¦‚ä¸‹å›¾

![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003409.png)

### ğŸ“æ’å…¥æ“ä½œ

2-3æ ‘åœ¨æ’å…¥ç»“ç‚¹æ—¶ä¸èƒ½å°†ç»“ç‚¹æ’å…¥åˆ°ä¸€ä¸ªç©ºç»“ç‚¹ä¸Šï¼Œå› ä¸ºè¦ä¿è¯å…¶ç»å¯¹å¹³è¡¡çš„æ€§è´¨ï¼Œæ–°çš„ç»“ç‚¹åªèƒ½é€šè¿‡åˆ†è£‚æˆ–è€…èåˆäº§ç”Ÿã€‚

ä¸‹é¢é€šè¿‡å¯¹ä¸Šå›¾çš„2-3æ ‘çš„æ„å»ºè¿‡ç¨‹ï¼Œäº†è§£2-3æ ‘çš„æ’å…¥æ“ä½œã€‚

ä¾æ¬¡æ’å…¥16-15-13-12-11-10-8-6-5

1. æ’å…¥16-15-13

   ![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003432.png)

   åœ¨æ’å…¥13ä¹‹åï¼Œå½¢æˆäº†ä¸€ä¸ªâ€œ4ç»“ç‚¹â€ï¼Œäºæ˜¯é€šè¿‡**åˆ†è£‚**å°†å…¶è½¬å˜ä¸º3ä¸ª2ç»“ç‚¹

2. æ’å…¥12-11

   ![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003503.png)

   åœ¨æ’å…¥11ä¹‹åï¼Œå½¢æˆäº†ä¸€ä¸ªâ€œ4ç»“ç‚¹â€ï¼Œäºæ˜¯é€šè¿‡**åˆ†è£‚**å°†å…¶è½¬å˜ä¸º3ä¸ª2ç»“ç‚¹ï¼Œä½†ä¹Ÿå› æ­¤å‡ºç°äº†ä¸å¹³è¡¡ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡**èåˆ**ä¿è¯æ ‘çš„ç»å¯¹å¹³è¡¡ã€‚

3. æ’å…¥10-8

   ![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003554.png)

   å’Œå‰é¢çš„è¿‡ç¨‹ç±»ä¼¼ï¼Œéœ€è¦é€šè¿‡å¤šæ¬¡çš„**åˆ†è£‚**å’Œ**èåˆ**æ¥ä¿è¯å¹³è¡¡

4. æ’å…¥6->5

   ![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003606.png)

   

{% note info %}

å¯ä»¥å‘ç°ï¼Œåœ¨æ’å…¥è¿‡ç¨‹ä¸­ï¼Œ2-3æ ‘é€šè¿‡èåˆå’Œåˆ†è£‚ä¸¤ä¸ªæ“ä½œçš„å¤šæ¬¡ä½¿ç”¨ï¼Œæ¥ä¿è¯æ ‘çš„ç»å¯¹å¹³è¡¡ã€‚å…¶æƒ…å†µå¯æ€»ç»“ä¸ºä»¥ä¸‹4ç§

â‘ æ’å…¥ä¸€ä¸ª2ç»“ç‚¹ï¼Œ**èåˆ**

â‘¡æ’å…¥ä¸€ä¸ª3ç»“ç‚¹ï¼Œä¸”æ˜¯æ ¹ç»“ç‚¹ï¼Œå…ˆ**èåˆ**æˆä¸€ä¸ª4ç»“ç‚¹ï¼Œå†**åˆ†è£‚**æˆä¸‰ä¸ª2ç»“ç‚¹

â‘¢æ’å…¥ä¸€ä¸ª3ç»“ç‚¹ï¼Œå…¶çˆ¶äº²ç»“ç‚¹æ˜¯2ç»“ç‚¹ï¼Œå…ˆ**èåˆ**æˆä¸€ä¸ª4ç»“ç‚¹ï¼Œå†**åˆ†è£‚**æˆä¸‰ä¸ª2ç»“ç‚¹ï¼Œå†å’Œçˆ¶äº²ç»“ç‚¹**èåˆ**æˆä¸€ä¸ª3ç»“ç‚¹

â‘£æ’å…¥ä¸€ä¸ª3ç»“ç‚¹ï¼Œå…¶çˆ¶äº²ç»“ç‚¹æ˜¯3ç»“ç‚¹ï¼Œå…ˆ**èåˆ**æˆä¸€ä¸ª4ç»“ç‚¹ï¼Œå†**åˆ†è£‚**æˆä¸‰ä¸ª2ç»“ç‚¹ï¼Œå†å’Œçˆ¶äº²ç»“ç‚¹**èåˆ**æˆä¸€ä¸ª4ç»“ç‚¹ï¼Œå†**åˆ†è£‚**æˆä¸‰ä¸ª2ç»“ç‚¹...

å…¶å®åªè¦ç†è§£äº†**èåˆ**å’Œ**åˆ†è£‚**ä¸¤ä¸ªè¿‡ç¨‹ï¼Œé‡åˆ°å…·ä½“æƒ…å†µå†å…·ä½“åˆ†æå³å¯ï¼Œä¸éœ€è¦æ­»è®°æƒ…å†µã€‚

{% endnote %}

## ä¸2-3æ ‘ç­‰ä»·çš„çº¢é»‘æ ‘

### ğŸ˜¯ä»2-3æ ‘åˆ°çº¢é»‘æ ‘

ç”±äº2-3æ ‘çš„ç»“ç‚¹å¹¶ä¸ç»Ÿä¸€ï¼Œä¹Ÿå°±æ˜¯2-3æ ‘çš„ç»“ç‚¹å¯èƒ½æœ‰1ä¸ªå…ƒç´ æˆ–è€…2ä¸ªå…ƒç´ ï¼Œåœ¨å®ç°ä¸Šä¼šæ¯”è¾ƒå¤æ‚ï¼Œäºæ˜¯å°è¯•ä¿æŒç»“ç‚¹ä»ç„¶åªæœ‰1ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ä¿æŒ2-3æ ‘çš„æ€æƒ³ï¼Œå¤§ä½“çš„åšæ³•æ˜¯ï¼šå¯¹äº2ç»“ç‚¹ï¼Œä¸éœ€è¦ä¿®æ”¹ï¼›å¯¹äº3ç»“ç‚¹ï¼Œå°†2ä¸ªå…ƒç´ æ‹†å¼€ï¼Œæˆä¸ºä¸¤ä¸ª2ç»“ç‚¹ï¼›å¹¶ä»¥é¢œè‰²åŒºåˆ†2ç»“ç‚¹å’Œ3ç»“ç‚¹ï¼Œ2ç»“ç‚¹ä¸ºé»‘è‰²ï¼Œ3ç»“ç‚¹æ‹†åˆ†å‡ºæ¥çš„å·¦ä¾§ï¼ˆè¾ƒå°ï¼‰çš„ç»“ç‚¹ä¸ºçº¢è‰²ï¼Œå³ä¾§çš„ç»“ç‚¹ä¸ºé»‘è‰²ï¼›è¿™æ ·å®ç°å‡ºæ¥çš„æ ‘ç§°ä¸ºçº¢é»‘æ ‘ã€‚

![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003617.png)

### ğŸ‰åŸºæœ¬æ€§è´¨

åœ¨æœ‰äº†2-3æ ‘çš„åŸºç¡€ä¹‹åï¼Œå†æ¥çœ‹ã€Šç®—æ³•å¯¼è®ºã€‹è¿™æœ¬ä¹¦ä¸­å¯¹äºçº¢é»‘æ ‘çš„æ€§è´¨ä»‹ç»ï¼Œå°±æ¯”è¾ƒå®¹æ˜“ç†è§£äº†ã€‚

![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003626.png)

1. æ‰€æœ‰çš„ç»“ç‚¹æˆ–è€…æ˜¯çº¢è‰²ï¼Œæˆ–è€…æ˜¯é»‘è‰²ã€‚è¿™ä¸ªæ˜¯çº¢é»‘æ ‘æœ¬èº«çš„å®šä¹‰
2. æ ¹ç»“ç‚¹æ˜¯é»‘è‰²çš„ã€‚å¯¹äº2-3æ ‘ï¼Œå®ƒçš„æ ¹ç»“ç‚¹è¦ä¹ˆæ˜¯2ç»“ç‚¹ï¼Œè¦ä¹ˆæ˜¯3ç»“ç‚¹ï¼Œå¯¹äº2ç»“ç‚¹ï¼Œå®ƒæœ¬èº«å°±è½¬åŒ–ä¸ºé»‘è‰²ç»“ç‚¹ï¼›å¯¹äº3ç»“ç‚¹ï¼Œæˆ‘ä»¬å°†å³ä¾§ä½œä¸ºçˆ¶äº²ç»“ç‚¹ï¼Œå·¦ä¾§ä½œä¸ºå­©å­ç»“ç‚¹ï¼Œå¹¶ä¸”å³ä¾§ä¸ºé»‘è‰²ï¼Œå·¦ä¾§ä¸ºçº¢è‰²ï¼›å› æ­¤æ ¹ç»“ç‚¹ä¸€å®šæ˜¯é»‘è‰²çš„
3. æ‰€æœ‰å¶å­ç»“ç‚¹ï¼ˆ**ç©ºç»“ç‚¹**ï¼‰éƒ½ä¸ºé»‘è‰²ã€‚æ­¤å¤„çš„å¶å­ç»“ç‚¹æ˜¯ç©ºç»“ç‚¹ï¼Œè€Œä¸æ˜¯å·¦å³å­æ ‘ä¸ºç©ºçš„ç»“ç‚¹ã€‚å½“çº¢é»‘æ ‘ä¸ºç©ºæ ‘æ—¶ï¼Œç”±æ€§è´¨2ï¼Œå¯çŸ¥æ ¹ç»“ç‚¹ä¸ºé»‘è‰²ï¼Œè€Œæ­¤æ—¶æ ¹ç»“ç‚¹ä¸ºç©ºï¼Œå› æ­¤ä¹Ÿæ˜¯æ€§è´¨3çš„ä½“ç°
4. çº¢è‰²ç»“ç‚¹çš„å·¦å³å­©å­ç»“ç‚¹éƒ½æ˜¯é»‘è‰²çš„ã€‚åœ¨2-3æ ‘ä¸­ï¼Œä»3ç»“ç‚¹åˆ†ç¦»å‡ºæ¥çš„çº¢è‰²ç»“ç‚¹ï¼Œå®ƒçš„å­æ ‘æ ¹ç»“ç‚¹åªèƒ½æ˜¯2ç»“ç‚¹æˆ–3ç»“ç‚¹ï¼Œè€Œç»è¿‡è½¬åŒ–ä¹‹åï¼Œè¿™ä¸ªå­æ ‘çš„æ ¹ç»“ç‚¹åªèƒ½å˜ä¸ºé»‘è‰²ç»“ç‚¹ï¼Œå‚è€ƒæ€§è´¨2ã€‚å› æ­¤çº¢è‰²ç»“ç‚¹çš„å­©å­ç»“ç‚¹éƒ½æ˜¯é»‘è‰²çš„
5. ä»æ¯ä¸€ä¸ªç»“ç‚¹åˆ°å…¶å¶å­ç»“ç‚¹æ‰€ç»è¿‡çš„é»‘è‰²ç»“ç‚¹æ•°ç›®æ˜¯ç›¸åŒçš„ã€‚åŸå› æ˜¯2-3æ ‘æ˜¯ä¸€æ£µç»å¯¹å¹³è¡¡çš„æ ‘ï¼Œå› æ­¤ä»ä¸€ä¸ªç»“ç‚¹åˆ°å…¶å¶å­ç»“ç‚¹ç»è¿‡çš„ç»“ç‚¹æ•°æ˜¯ç›¸åŒçš„ï¼Œè€Œåœ¨è½¬åŒ–æˆçº¢é»‘æ ‘ä¹‹åï¼Œæ— è®ºæ˜¯2ç»“ç‚¹è¿˜æ˜¯3ç»“ç‚¹ï¼Œéƒ½ä¼šè½¬åŒ–å‡ºä¸€ä¸ªé»‘è‰²ç»“ç‚¹

#### é¢˜å¤–é—®ï¼šä¸ºä»€ä¹ˆçº¢é»‘æ ‘èƒ½ä¿æŒOï¼ˆlogNï¼‰çš„å¤æ‚åº¦ï¼Ÿ

å› ä¸ºçº¢é»‘æ ‘çš„æœ€å¤§é«˜åº¦ä¸º2logNï¼Œå‡ºç°åœ¨å½“æœ‰ä¸€æ¡ä»æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹éƒ½æ˜¯3ç»“ç‚¹çš„æƒ…å†µä¸‹ï¼Œå¦‚æœéƒ½æ˜¯2ç»“ç‚¹ï¼Œé‚£ä¹ˆå’Œå¹³å¸¸çš„äºŒå‰æ ‘ä¸€æ ·ï¼Œéƒ½æ˜¯logNï¼Œåœ¨å…¨æ˜¯3ç»“ç‚¹çš„æ—¶å€™ï¼Œè½¬åŒ–ä¸ºçº¢é»‘æ ‘æ—¶ï¼Œä¸€ä¸ª3ç»“ç‚¹ä¼šæˆä¸ºä¸€ä¸ªçº¢è‰²ç»“ç‚¹å’Œä¸€ä¸ªé»‘è‰²ç»“ç‚¹ï¼Œå› æ­¤é«˜åº¦æ˜¯2logNçš„ï¼Œç”±äº2æ˜¯å¸¸æ•°ï¼Œåœ¨æ—¶é—´å¤æ‚åº¦ä¸Šä»ç„¶å½“ä½œOï¼ˆlogNï¼‰çº§åˆ«ã€‚

### ğŸ“æ’å…¥æ“ä½œ

çº¢é»‘æ ‘ä¹Ÿæ˜¯ä¸€æ£µäºŒåˆ†æœç´¢æ ‘ï¼Œå› æ­¤æ’å…¥æ“ä½œçš„åŸºæœ¬æ­¥éª¤æ˜¯ç›¸åŒçš„ï¼Œé¦–å…ˆæ˜¯æŸ¥æ‰¾è¦æ’å…¥çš„ä½ç½®ï¼Œç„¶åå°†æ–°ç»“ç‚¹è®¾ç½®ä¸ºçº¢è‰²ï¼Œè¿™ä¸€æ­¥çš„åŸå› åœ¨äºå¦‚æœå°†æ–°ç»“ç‚¹è®¾ç½®ä¸ºé»‘è‰²ï¼Œå°±ä¼šå¯¼è‡´ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ä¸Šå¤šä¸€ä¸ªé¢å¤–çš„é»‘è‰²ç»“ç‚¹ï¼Œéš¾ä»¥è°ƒæ•´ï¼Œè€Œè¿ç»­çš„ä¸¤ä¸ªçº¢è‰²ç»“ç‚¹å¯ä»¥é€šè¿‡æ—‹è½¬å’Œé¢œè‰²ç¿»è½¬æ¥è°ƒæ•´ã€‚ç¬¬ä¸‰æ­¥æ˜¯è‡ªä¸‹è€Œä¸Šçš„è°ƒæ•´æ ‘ï¼Œä½¿å…¶ä»ä¸ºçº¢é»‘æ ‘ã€‚

å…·ä½“çš„è°ƒæ•´åˆ†ä¸ºä»¥ä¸‹å‡ ç§æƒ…å†µï¼š

1. æ’å…¥åˆ°é»‘è‰²ç»“ç‚¹å·¦ä¾§ï¼šè¿™ç§æƒ…å†µå³ç›¸å½“äºåœ¨2-3æ ‘ä¸­æ’å…¥åˆ°2ç»“ç‚¹ï¼Œèåˆå½¢æˆ3ç»“ç‚¹ï¼Œè€Œ3ç»“ç‚¹è½¬åŒ–æˆçº¢é»‘æ ‘æ­£å¥½æ˜¯å·¦ä¾§ä¸ºçº¢è‰²ã€å³ä¾§ä¸ºé»‘è‰²ï¼Œå› æ­¤ä¸éœ€è¦è°ƒæ•´

   ![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003637.png)

2. æ’å…¥åˆ°é»‘è‰²ç»“ç‚¹å³ä¾§ï¼šåœ¨2-3æ ‘ä¸­ä»ç„¶æ˜¯å’Œ2ç»“ç‚¹èåˆå½¢æˆ3ç»“ç‚¹ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦è€ƒè™‘å¦‚ä½•å°†å…¶è°ƒæ•´ä¸º3ç»“ç‚¹è½¬åŒ–ä¸ºçº¢é»‘æ ‘ä¹‹åçš„å½¢æ€ï¼Œè€Œè¿™ä¸€æ­¥è°ƒæ•´æ ¹æ®æˆ‘ä»¬åœ¨AVLæ ‘ä¸­çš„ç»éªŒï¼Œå¯ä»¥ä½¿ç”¨**å·¦æ—‹è½¬**æ¥å®ç°ã€‚

   ![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003646.png)

   å¯¹åº”çš„ä»£ç ä¸º

   ```java
   private Node leftRotate(Node node){
       Node x = node.right; //42
       //å·¦æ—‹
       node.right = x.left;
       x.left = node;
       //é¢œè‰²
       x.color = node.color; //å½“å‰å­æ ‘çš„æ ¹ç»“ç‚¹ä»nodeå˜ä¸ºx, å› æ­¤xçš„é¢œè‰²éœ€è¦å˜ä¸ºnodeçš„é¢œè‰²
       node.color = RED;//åœ¨2-3æ ‘ä¸­çš„3ç»“ç‚¹è½¬åŒ–å,å·¦ä¾§çš„ç»“ç‚¹ä¸ºçº¢è‰²ç»“ç‚¹
       
       return x;//è¿”å›å­æ ‘æ–°çš„æ ¹ç»“ç‚¹
   }
   ```

   

3. æ’å…¥åˆ°å·¦å­©å­ä¸ºçº¢è‰²ç»“ç‚¹çš„é»‘è‰²ç»“ç‚¹å³ä¾§ï¼šå·¦å­©å­ä¸ºçº¢è‰²ç»“ç‚¹çš„ç»“ç‚¹å¯¹åº”äº2-3æ ‘ä¸­çš„3ç»“ç‚¹ï¼Œåœ¨å…¶å³ä¾§æ’å…¥æ–°ç»“ç‚¹åï¼Œèåˆå½¢æˆä¸€ä¸ªâ€4ç»“ç‚¹â€œï¼Œç»è¿‡åˆ†è£‚æˆä¸º3ä¸ª2ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯é»‘è‰²ç»“ç‚¹ï¼Œå…¶ä¸­å­æ ‘æ ¹ç»“ç‚¹éœ€è¦ä¿æŒåŸæ¥çš„é¢œè‰²(ï¼ˆçº¢è‰²ï¼‰ã€‚å› æ­¤æ•´ä¸ªè¿‡ç¨‹ç­‰åŒäºæ ¹ç»“ç‚¹å’Œå…¶å­©å­ç»“ç‚¹äº¤æ¢é¢œè‰²ï¼Œç§°ä¸º**é¢œè‰²ç¿»è½¬**

   ![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003656.png)

   ```java
   private void flipColors(Node node){
       node.color = RED;
       node.left.color = BLACK;
       node.right.color = BLACK;
   }
   ```

   

4. æ’å…¥åˆ°å·¦å­©å­ä¸ºçº¢è‰²ç»“ç‚¹çš„é»‘è‰²ç»“ç‚¹å·¦ä¾§ï¼šç›¸å½“äºåœ¨2-3æ ‘ä¸­çš„3ç»“ç‚¹å·¦ä¾§æ’å…¥ä¸€ä¸ªæ–°ç»“ç‚¹ï¼Œä¸ºäº†æ„é€ å‡ºâ€œ4ç»“ç‚¹â€åˆ†è£‚åçš„æ ‘ï¼Œéœ€è¦å…ˆç»è¿‡ä¸€æ¬¡**å³æ—‹**ï¼Œç”±äºæ ¹ç»“ç‚¹å˜ä¸º37ï¼Œå› æ­¤37éœ€è¦ä¿æŒåŸæ¥æ ¹ç»“ç‚¹42çš„é»‘è‰²ï¼Œè€Œ42ä¸ºäº†è¡¨ç¤ºå…¶ä½œä¸ºâ€œ4ç»“ç‚¹â€çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦å˜ä¸ºçº¢è‰²ã€‚åœ¨ç»è¿‡å³æ—‹ä¹‹åï¼Œå°±æˆä¸ºäº†æƒ…å†µ3ï¼Œå› æ­¤ä¹‹åéœ€è¦ç»è¿‡ä¸€æ¬¡**é¢œè‰²ç¿»è½¬**

   ![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003706.png)

   ```java
   private Node rightRotate(Node node){
       //node -> 42
       Node x = node.left; //37
       //å³æ—‹
       node.left = x.right;
       x.right = node;
       //é¢œè‰²
       x.color = node.color;
       node.color = RED;
       
       return x;
   }
   ```

   

5. æ’å…¥åˆ°å·¦å­©å­ä¸ºçº¢è‰²ç»“ç‚¹çš„é»‘è‰²ç»“ç‚¹ä¸­é—´ï¼šç›¸å½“äºåœ¨2-3æ ‘çš„3ç»“ç‚¹ä¸­é—´æ’å…¥ä¸€ä¸ªæ–°ç»“ç‚¹ï¼Œç»¼åˆå‰é¢å‡ ç§æƒ…å†µï¼Œå¯ä»¥æ¯”è¾ƒå¿«åœ°æ„é€ å‡ºâ€œ4ç»“ç‚¹â€åˆ†è£‚åçš„æ ‘ï¼Œé¦–å…ˆæ˜¯å…ˆå¯¹37æ‰€åœ¨å­æ ‘è¿›è¡Œä¸€æ¬¡**å·¦æ—‹**ï¼Œå°±å¾—åˆ°äº†**æƒ…å†µ4**ï¼Œä¹‹åç»è¿‡**å³æ—‹**ï¼Œå°±å¾—åˆ°äº†**æƒ…å†µ3**ï¼Œæœ€åé€šè¿‡**é¢œè‰²ç¿»è½¬**å°±å¯ä»¥è°ƒæ•´ä¸ºçº¢é»‘æ ‘

   ![å›¾ç‰‡](https://gitee.com/jingshanccc/image/raw/master/image/20200722003716.png)

å¯ä»¥å‘ç°ï¼Œæƒ…å†µ4å’Œ5å¯ä»¥é€šè¿‡æ—‹è½¬è½¬æ¢ä¸ºæƒ…å†µ3ï¼Œå› æ­¤ä¸Šè¿°çš„5ç§æƒ…å†µï¼Œå…¶å¤„ç†çš„æ–¹å¼å¯ä»¥åœ¨ç»Ÿä¸€çš„æµç¨‹é‡Œå®ç°ï¼Œå³æ€»æ˜¯ç»è¿‡å·¦æ—‹->å³æ—‹->é¢œè‰²ç¿»è½¬å°±å¯ä»¥å®Œæˆå¯¹æ ‘çš„è°ƒæ•´ã€‚

{% note info %}

å½“å‰ç»“ç‚¹å³å­©å­ä¸ºçº¢è‰²ç»“ç‚¹ï¼Œå·¦å­©å­ä¸ºé»‘è‰²ç»“ç‚¹ï¼Œéœ€è¦å·¦æ—‹â€”â€”å¯¹åº”æƒ…å†µ2

{% endnote %}

{% note success %}

å½“å‰ç»“ç‚¹å·¦å³å­©å­éƒ½ä¸ºçº¢è‰²ç»“ç‚¹ï¼Œéœ€è¦é¢œè‰²ç¿»è½¬â€”â€”å¯¹åº”æƒ…å†µ3

{% endnote %}

{% note warning %}

å½“å‰ç»“ç‚¹å·¦å­©å­ä¸ºçº¢è‰²ç»“ç‚¹ï¼Œå·¦å­©å­çš„å·¦å­©å­ä¸ºçº¢è‰²ç»“ç‚¹ï¼Œéœ€è¦å³æ—‹â€”â€”æƒ…å†µ4

{% endnote %}

äºæ˜¯ï¼Œåœ¨å¯¹çº¢é»‘æ ‘è¿›è¡Œæ’å…¥æ“ä½œçš„ä»£ç å¦‚ä¸‹ï¼š

```java
public void add(K key, V value){
    root = add(root, key, value);
    root.color = BLACK; //ä¿æŒæ ¹ç»“ç‚¹ä¸ºé»‘è‰²
}
private Node add(Node node, K key, V value){
    if(node == null){
        size ++; //ç»´æŠ¤ç»“ç‚¹æ•°
        return new Node(key, value, RED);//æ–°ç»“ç‚¹æ€»æ˜¯çº¢è‰²çš„
    }
    //äºŒåˆ†æœç´¢æ ‘çš„æŸ¥æ‰¾å¹¶æ’å…¥
    if(key.compareTo(node.key) > 0){//æ’å…¥åˆ°å³å­æ ‘
        node.right = add(node.right, key, value);
    }else if(key.compareTo(node.key) < 0){// æ’å…¥åˆ°å·¦å­æ ‘
        node.left = add(node.left, key, value);
    }else{
        node.value = value;
    }
    //ç»´æŠ¤çº¢é»‘æ ‘
    if(isRed(node.right) && !isRed(node.left)){//å³å­©å­ä¸ºçº¢è‰² å·¦å­©å­ä¸ºé»‘è‰²
        leftRotate(node);
    }
    if(isRed(node.left) && isRed(node.left.left)){//å·¦å­©å­å’Œå·¦å­™å­ä¸ºçº¢è‰²
        rightRotate(node);
    }
    if(isRed(node.left) && isRed(node.right)){//å·¦å³éƒ½çº¢
        filpColors(node);
    }
    
    return node;
}
```



## å‚è€ƒæ–‡ç« 

1. [æ•°æ®ç»“æ„ä¹‹çº¢é»‘æ ‘](http://dongxicheng.org/structure/red-black-tree/)
2. [liuyuboboboã€Šç®—æ³•å’Œæ•°æ®ç»“æ„ã€‹](https://class.imooc.com/datastructure)
3. [ç®—æ³•å¯¼è®º](https://book.douban.com/subject/20432061/)

