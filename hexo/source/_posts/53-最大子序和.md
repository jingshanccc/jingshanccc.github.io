---
title: 53. æœ€å¤§å­åºå’Œ
tags:
  - Leetcode
  - åˆ†æ²»ç®—æ³•
  - åŠ¨æ€è§„åˆ’
categories:
  - Leetcode
abbrlink: a42162e0
---

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚
>
> ç¤ºä¾‹:
>
> è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4],
> è¾“å‡º: 6
> è§£é‡Š: è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚

<!-- more -->

### ğŸ‘Š æš´åŠ›è§£æ³•

å…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ä¸€å®šæ˜¯ä»¥æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ å¼€å¤´çš„ï¼Œå› æ­¤æˆ‘ä»¬åªè¦æ±‚å¾—æ¯ä¸ªä½ç½®çš„æœ€é•¿è¿ç»­å­æ•°ç»„è‡ªç„¶ä¹Ÿå¯ä»¥å¾—åˆ°ç»“æœã€‚ç¨åŠ åˆ†æä¹‹åï¼Œä¿¡å¿ƒæ»¡æ»¡çš„å†™ä¸‹äº†è¿™æ ·çš„ä»£ç ã€‚{% fold å±•å¼€ %}

``` java
public int maxSubArray(int[] nums){
    if(nums == null || nums.length == 0){
        return 0;
    }
    int res = 0;
    for(int i = 0; i < nums.length; i++){
        int sum = nums[i];
        for(int j = i+1; j < nums.length; j++){
            if(nums[j] < 0){
                break;
            }else{
                sum += nums[j];
            }
        }
        res = Math.max(res, sum);
    }
    return res;
}
```

{% endfold %}

è·‘ä¸€ä¸‹å‘ç°è¿æµ‹è¯•ç”¨ä¾‹éƒ½è¿‡ä¸äº†ã€‚é”™è¯¯çš„åŸå› åœ¨äºï¼šå½“ä¸‹ä¸€ä¸ªæ•°ä¸ºè´Ÿæ—¶å¹¶**ä¸èƒ½è·³å‡ºå¾ªç¯**ï¼Œå› ä¸ºå¯èƒ½åé¢è¿˜ä¼šæœ‰æ›´å¤§çš„æ­£æ•°ï¼Œå³ä½¿åŠ ä¸Šè¿™ä¸ªè´Ÿæ•°ï¼Œä½†æ˜¯ç”±äºåé¢æ­£æ•°æ›´å¤§ï¼Œè‡ªç„¶åº”è¯¥ç»§ç»­ç´¯åŠ ã€‚

> å¯¹äº ` [1,-3,4] `ï¼Œå³ä½¿ ` 1 ` åé¢æ˜¯ ` -3 `ï¼Œä½†æ˜¯å¦‚æœå°±æ­¤è·³å‡ºå¾ªç¯ï¼Œåˆ™æ±‚å¾—çš„æœ€å¤§å’Œä¸º` 1 `ï¼Œä½†æ˜¯æ­£ç¡®çš„æœ€å¤§å’Œæ˜¯ ` 1 + -3 + 4 = 2 `ã€‚

äºæ˜¯æˆ‘ä»¬å°è¯•ä¿®æ”¹ä»£ç ï¼Œç”±äºæˆ‘ä»¬åªéœ€è¦æ±‚å¾—æœ€å¤§å’Œæ˜¯å¤šå°‘ï¼Œå› æ­¤åœ¨å†…å±‚å¾ªç¯ç´¯åŠ çš„è¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°ç»“æœï¼Œé‚£ä¹ˆæœ€å¤§å€¼ä¸€å®šèƒ½å¤Ÿè¢«æ‰¾åˆ°ã€‚{% fold æ”¹æ­£ä¹‹åçš„ä»£ç  %}

```java
public int maxSubArray(int[] nums) {
    if(nums == null || nums.length == 0){
        return 0;
    }
    int res = Integer.MIN_VALUE;
    for(int i = 0; i < nums.length; i++){
        int sum = 0;
        for(int j = i; j < nums.length; j++){
            res = Math.max(res, sum+=nums[j]);
        }
    }
    return res;
}
```

{% endfold %}

### ğŸ“ˆ ä¼˜åŒ–

ä¸Šè¿°çš„æ€è·¯ï¼Œä¸ºäº†çŸ¥é“ä»¥æŸä¸ªä½ç½®çš„å…ƒç´ ä¸ºå¼€å¤´çš„æœ€å¤§å’Œï¼Œæˆ‘ä»¬éå†äº†åç»­çš„æ‰€æœ‰å…ƒç´ ï¼Œé€šè¿‡**æšä¸¾**æ¥æ±‚å¾—æœ€å¤§å€¼ï¼Œè€Œè¿™ä»…ä»…èƒ½æ±‚å¾—è¿™ä¸€ä¸ªä½ç½®ã€‚è¿™ä¹Ÿå¯¼è‡´ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(NÂ²)çš„ã€‚äºæ˜¯æˆ‘ä»¬æ¢ä¸ªæ€è·¯ï¼Œå½“æˆ‘ä»¬è€ƒè™‘ä»¥å½“å‰ä½ç½®çš„å…ƒç´ ä½œä¸ºç»“å°¾æ—¶çš„æœ€å¤§å’Œï¼Œå¯ä»¥æ ¹æ®**å‰ä¸€ä¸ªä½ç½®**æ±‚å¾—çš„æœ€å¤§å’Œ `sum ` çš„**æ­£è´Ÿ**ï¼Œæ¥å†³å®šå½“å‰ä½ç½®æ˜¯åŠ åœ¨å‰ä¸€ä¸ªå…ƒç´ ä¹‹åï¼Œè¿˜æ˜¯è‡ªå·±æˆä¸ºä¸€ä¸ªæ–°çš„å­æ•°ç»„ã€‚å½“ ` sum > 0 `ï¼Œå¯¹äºå½“å‰æ•°ï¼ŒåŠ ä¸Šè¿™ä¸ª ` sum `ï¼Œæœ‰å¢åŠ çš„æ•ˆæœï¼›å½“ ` sum <= 0 ` ï¼Œå¯¹äºå½“å‰æ•°ï¼ŒåŠ ä¸Šè¿™ä¸ª ` sum ` ï¼Œæœ‰å‡å°çš„æ•ˆæœï¼Œå› æ­¤å¯ä»¥ä¸¢å¼ƒä¹‹å‰çš„ ` sum ` ï¼Œé‡æ–°å¼€å§‹è®¡ç®—ã€‚

{% note success %}

æ ¹æ®å‰ä¸€ä¸ªä½ç½®çš„ç»“æœå¾—åˆ°å½“å‰ä½ç½®çš„ç»“æœï¼Œè¿™æ˜¯å…¸å‹çš„**åŠ¨æ€è§„åˆ’**æ€æƒ³ã€‚

{% endnote %}

### ğŸ§¾ ä»£ç 

```java
public int maxSubArray(int[] nums) {
    if(nums == null || nums.length == 0){
        return 0;
    }
    int n = nums.length;
    int[] dp = new int[n];
    dp[0] = nums[0];
    int res = dp[0];
    for(int i = 1; i < n; i++){
        dp[i] = dp[i-1]>0 ? dp[i-1]+nums[i] : nums[i];
        res = Math.max(dp[i],res);
    }
    return res;
}
```

æ›´è¿›ä¸€æ­¥çš„ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦çŸ¥é“å‰ä¸€ä¸ªä½ç½®çš„ç»“æœï¼Œå› æ­¤ä½¿ç”¨ä¸€ä¸ªå˜é‡ ` sum ` è®°å½•ï¼Œä¼˜åŒ–ç©ºé—´å¤æ‚åº¦ã€‚{% fold æŸ¥çœ‹ %}

```java
public int maxSubArray(int[] nums) {
    int res = nums[0];
    int sum = 0;
    for (int num : nums) {
        sum = sum > 0 ? sum+num : num;
        res = Math.max(res, sum);
    }
    return res;
}
```

{% endfold %}