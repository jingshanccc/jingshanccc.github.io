---
abbrlink: cf099fb5
---
### 垂直分表的应用

课程内容的大文本字段，切分为新表，提高效率

在大字段/频繁更新的字段，可以应用垂直分表

### 文件分片上传

分片文件key标识属于哪个文件，key通过md5文件信息得到

通过转成10进制，再改成64进制得到更短的key

通过key也可以判断文件是否已经被上传实现极速上传，并通过已传输的分片实现断点续传

选择文件->校验文件->生成唯一标识->组装文件数据->调用文件上传校验接口查询文件记录->1.不存在，开始上传，递归直到所有分片上传完成 2. 存在，上传下一分片直到所有分片上传完成 3.存在，所有分片上传完成，显示极速上传成功 -> 1，2之后，合并分片，删除分片

### 登录流程

1. 生成验证码token，存放验证码字符串以及token到缓存，返回验证码图片
2. 输入用户名、密码、验证码
3. 前端密码加密。调用登录
4. 后端加密密码
5. 获取验证码判断是否正确
6. 正确验证码后，清除redis数据
7. 查询用户是否存在
8. 用户存在则比较密码是否正确
9. 密码正确得到用户信息，生成token，存放到缓存（单点登录）
10. 返回用户信息，不返回密码
11. 保存用户信息到前端session
12. 记住我？是保存到localsession，否则清空local缓存

### 权限管理

用户->角色，角色->资源

表设计：用户表、角色表、资源表、用户-角色表、角色-资源表

读取权限：登陆时加载所有权限

拦截：根绝资源所需的权限 判断当前是否拥有权限

1. 前端：菜单、路由、按钮、
2. 后端：接口、gateway过滤

权限初始化：以json形式记录所有资源

### 注册

发送短信验证码，60s不重发功能

### 打包

将打包插件放到需要运行的模块，父模块不需要

招银编程

分行号 5月考核分 6月考核分
755 95.6 94.6
110 94.8 94.4
121 93.6 94.8
571 95.6 94.4
769 93.6 93.6
123 94.4 95.6
120 94.8 94.8
432 94.4 94.6
531 95.6 94.8
要求输出: 
以上9个分行6月的考核分数,按分数倒序排序,并计算出每个分行6月份相比5月份的排名变化 
排名变化举例,755分行,5月份排名第1,6月份排名第3,名次变化则为3-1=2



## maximum-depth-of-binary-tree

限定语言：C++、Java



Given a binary tree, find its maximum depth.

The maximum depth is the number of nodes along the longest path from the root node down to the farthest leaf node.

![img](https://uploadfiles.nowcoder.com/files/20200707/0_1594118309382/1594118292267.png)